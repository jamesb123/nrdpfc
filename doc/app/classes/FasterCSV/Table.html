<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: FasterCSV::Table</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">FasterCSV::Table</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/lib/faster_csv_rb.html">
                lib/faster_csv.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Object
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
A <a href="Table.html">FasterCSV::Table</a> is a two-dimensional data
structure for representing CSV documents. Tables allow you to work with the
data by row or column, manipulate the data, and even convert the results
back to CSV, if needed.
</p>
<p>
All tables returned by <a href="../FasterCSV.html">FasterCSV</a> will be
constructed from this class, if header row processing is activated.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000054">&lt;&lt;</a>&nbsp;&nbsp;
      <a href="#M000059">==</a>&nbsp;&nbsp;
      <a href="#M000051">[]</a>&nbsp;&nbsp;
      <a href="#M000052">[]=</a>&nbsp;&nbsp;
      <a href="#M000044">by_col</a>&nbsp;&nbsp;
      <a href="#M000045">by_col!</a>&nbsp;&nbsp;
      <a href="#M000046">by_col_or_row</a>&nbsp;&nbsp;
      <a href="#M000047">by_col_or_row!</a>&nbsp;&nbsp;
      <a href="#M000048">by_row</a>&nbsp;&nbsp;
      <a href="#M000049">by_row!</a>&nbsp;&nbsp;
      <a href="#M000056">delete</a>&nbsp;&nbsp;
      <a href="#M000057">delete_if</a>&nbsp;&nbsp;
      <a href="#M000058">each</a>&nbsp;&nbsp;
      <a href="#M000050">headers</a>&nbsp;&nbsp;
      <a href="#M000043">new</a>&nbsp;&nbsp;
      <a href="#M000055">push</a>&nbsp;&nbsp;
      <a href="#M000060">to_a</a>&nbsp;&nbsp;
      <a href="#M000061">to_csv</a>&nbsp;&nbsp;
      <a href="#M000062">to_s</a>&nbsp;&nbsp;
      <a href="#M000053">values_at</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->
    <div id="includes">
      <h3 class="section-bar">Included Modules</h3>

      <div id="includes-list">
        <span class="include-name">Enumerable</span>
      </div>
    </div>

    <div id="section">





    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">mode</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
The current access mode for indexing and iteration.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">table</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
Internal data format used to compare equality.

</td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000043" class="method-detail">
        <a name="M000043"></a>

        <div class="method-heading">
          <a href="#M000043" class="method-signature">
          <span class="method-name">new</span><span class="method-args">(array_of_rows)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Construct a <a href="Table.html#M000043">new</a> <a
href="Table.html">FasterCSV::Table</a> from <tt>array_of_rows</tt>, which
are expected to be <a href="Row.html">FasterCSV::Row</a> objects. All rows
are assumed to have the same <a href="Table.html#M000050">headers</a>.
</p>
<p>
A <a href="Table.html">FasterCSV::Table</a> object supports the following
<a href="../Array.html">Array</a> methods through delegation:
</p>
<ul>
<li>empty?()

</li>
<li>length()

</li>
<li>size()

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000043-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000043-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 389</span>
389:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">array_of_rows</span>)
390:       <span class="ruby-ivar">@table</span> = <span class="ruby-identifier">array_of_rows</span>
391:       <span class="ruby-ivar">@mode</span>  = <span class="ruby-identifier">:col_or_row</span>
392:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000054" class="method-detail">
        <a name="M000054"></a>

        <div class="method-heading">
          <a href="#M000054" class="method-signature">
          <span class="method-name">&lt;&lt;</span><span class="method-args">(row_or_array)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Adds a <a href="Table.html#M000043">new</a> row to the bottom end of this
table. You can provide an <a href="../Array.html">Array</a>, which will be
converted to a <a href="Row.html">FasterCSV::Row</a> (inheriting the
table&#8216;s <a href="Table.html#M000050">headers</a>()), or a <a
href="Row.html">FasterCSV::Row</a>.
</p>
<p>
This method returns the table for chaining.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000054-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000054-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 587</span>
587:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">&lt;&lt;</span>(<span class="ruby-identifier">row_or_array</span>)
588:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">row_or_array</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Array</span>  <span class="ruby-comment cmt"># append Array</span>
589:         <span class="ruby-ivar">@table</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Row</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">headers</span>, <span class="ruby-identifier">row_or_array</span>)
590:       <span class="ruby-keyword kw">else</span>                         <span class="ruby-comment cmt"># append Row</span>
591:         <span class="ruby-ivar">@table</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">row_or_array</span>
592:       <span class="ruby-keyword kw">end</span>
593:       
594:       <span class="ruby-keyword kw">self</span>  <span class="ruby-comment cmt"># for chaining</span>
595:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000059" class="method-detail">
        <a name="M000059"></a>

        <div class="method-heading">
          <a href="#M000059" class="method-signature">
          <span class="method-name">==</span><span class="method-args">(other)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns <tt>true</tt> if all rows of this table ==() <tt>other</tt>&#8216;s
rows.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000059-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000059-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 666</span>
666:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">==</span>(<span class="ruby-identifier">other</span>)
667:       <span class="ruby-ivar">@table</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">table</span>
668:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000051" class="method-detail">
        <a name="M000051"></a>

        <div class="method-heading">
          <a href="#M000051" class="method-signature">
          <span class="method-name">[]</span><span class="method-args">(index_or_header)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
In the default mixed mode, this method returns rows for index access and
columns for header access. You can force the index association by first
calling <a href="Table.html#M000045">by_col!</a>() or <a
href="Table.html#M000049">by_row!</a>().
</p>
<p>
Columns are returned as an <a href="../Array.html">Array</a> of values.
Altering that <a href="../Array.html">Array</a> has no effect on the table.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000051-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000051-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 503</span>
503:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]</span>(<span class="ruby-identifier">index_or_header</span>)
504:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:row</span> <span class="ruby-keyword kw">or</span>  <span class="ruby-comment cmt"># by index</span>
505:          (<span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:col_or_row</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">index_or_header</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Integer</span>)
506:         <span class="ruby-ivar">@table</span>[<span class="ruby-identifier">index_or_header</span>]
507:       <span class="ruby-keyword kw">else</span>                 <span class="ruby-comment cmt"># by header</span>
508:         <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span> <span class="ruby-identifier">row</span>[<span class="ruby-identifier">index_or_header</span>] }
509:       <span class="ruby-keyword kw">end</span>
510:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000052" class="method-detail">
        <a name="M000052"></a>

        <div class="method-heading">
          <a href="#M000052" class="method-signature">
          <span class="method-name">[]=</span><span class="method-args">(index_or_header, value)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
In the default mixed mode, this method assigns rows for index access and
columns for header access. You can force the index association by first
calling <a href="Table.html#M000045">by_col!</a>() or <a
href="Table.html#M000049">by_row!</a>().
</p>
<p>
Rows may be set to an <a href="../Array.html">Array</a> of values (which
will inherit the table&#8216;s <a href="Table.html#M000050">headers</a>())
or a <a href="Row.html">FasterCSV::Row</a>.
</p>
<p>
Columns may be set to a single value, which is copied to <a
href="Table.html#M000058">each</a> row of the column, or an <a
href="../Array.html">Array</a> of values. Arrays of values are assigned to
rows top to bottom in row major order. Excess values are ignored and if the
<a href="../Array.html">Array</a> does not have a value for <a
href="Table.html#M000058">each</a> row the extra rows will receive a
<tt>nil</tt>.
</p>
<p>
Assigning to an existing column or row clobbers the data. Assigning to <a
href="Table.html#M000043">new</a> columns creates them at the right end of
the table.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000052-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000052-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 528</span>
528:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]=</span>(<span class="ruby-identifier">index_or_header</span>, <span class="ruby-identifier">value</span>)
529:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:row</span> <span class="ruby-keyword kw">or</span>  <span class="ruby-comment cmt"># by index</span>
530:          (<span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:col_or_row</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">index_or_header</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Integer</span>)
531:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Array</span>
532:           <span class="ruby-ivar">@table</span>[<span class="ruby-identifier">index_or_header</span>] = <span class="ruby-constant">Row</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">headers</span>, <span class="ruby-identifier">value</span>)
533:         <span class="ruby-keyword kw">else</span>
534:           <span class="ruby-ivar">@table</span>[<span class="ruby-identifier">index_or_header</span>] = <span class="ruby-identifier">value</span>
535:         <span class="ruby-keyword kw">end</span>
536:       <span class="ruby-keyword kw">else</span>                 <span class="ruby-comment cmt"># set column</span>
537:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Array</span>  <span class="ruby-comment cmt"># multiple values</span>
538:           <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">row</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
539:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">header_row?</span>
540:               <span class="ruby-identifier">row</span>[<span class="ruby-identifier">index_or_header</span>] = <span class="ruby-identifier">index_or_header</span>
541:             <span class="ruby-keyword kw">else</span>
542:               <span class="ruby-identifier">row</span>[<span class="ruby-identifier">index_or_header</span>] = <span class="ruby-identifier">value</span>[<span class="ruby-identifier">i</span>]
543:             <span class="ruby-keyword kw">end</span>
544:           <span class="ruby-keyword kw">end</span>
545:         <span class="ruby-keyword kw">else</span>                  <span class="ruby-comment cmt"># repeated value</span>
546:           <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span>
547:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">header_row?</span>
548:               <span class="ruby-identifier">row</span>[<span class="ruby-identifier">index_or_header</span>] = <span class="ruby-identifier">index_or_header</span>
549:             <span class="ruby-keyword kw">else</span>
550:               <span class="ruby-identifier">row</span>[<span class="ruby-identifier">index_or_header</span>] = <span class="ruby-identifier">value</span>
551:             <span class="ruby-keyword kw">end</span>
552:           <span class="ruby-keyword kw">end</span>
553:         <span class="ruby-keyword kw">end</span>
554:       <span class="ruby-keyword kw">end</span>
555:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000044" class="method-detail">
        <a name="M000044"></a>

        <div class="method-heading">
          <a href="#M000044" class="method-signature">
          <span class="method-name">by_col</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns a duplicate table object, in column mode. This is handy for
chaining in a single call without changing the table mode, but be aware
that this method can consume a fair amount of memory for bigger data sets.
</p>
<p>
This method returns the duplicate table for chaining. Don&#8216;t chain
destructive methods (like []=()) this way though, since you are working
with a duplicate.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000044-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000044-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 415</span>
415:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">by_col</span>
416:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@table</span>.<span class="ruby-identifier">dup</span>).<span class="ruby-identifier">by_col!</span>
417:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000045" class="method-detail">
        <a name="M000045"></a>

        <div class="method-heading">
          <a href="#M000045" class="method-signature">
          <span class="method-name">by_col!</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Switches the mode of this table to column mode. All calls to indexing and
iteration methods will work with columns until the mode is changed again.
</p>
<p>
This method returns the table and is safe to chain.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000045-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000045-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 425</span>
425:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">by_col!</span>
426:       <span class="ruby-ivar">@mode</span> = <span class="ruby-identifier">:col</span>
427:       
428:       <span class="ruby-keyword kw">self</span>
429:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000046" class="method-detail">
        <a name="M000046"></a>

        <div class="method-heading">
          <a href="#M000046" class="method-signature">
          <span class="method-name">by_col_or_row</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns a duplicate table object, in mixed mode. This is handy for chaining
in a single call without changing the table mode, but be aware that this
method can consume a fair amount of memory for bigger data sets.
</p>
<p>
This method returns the duplicate table for chaining. Don&#8216;t chain
destructive methods (like []=()) this way though, since you are working
with a duplicate.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000046-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000046-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 440</span>
440:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">by_col_or_row</span>
441:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@table</span>.<span class="ruby-identifier">dup</span>).<span class="ruby-identifier">by_col_or_row!</span>
442:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000047" class="method-detail">
        <a name="M000047"></a>

        <div class="method-heading">
          <a href="#M000047" class="method-signature">
          <span class="method-name">by_col_or_row!</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Switches the mode of this table to mixed mode. All calls to indexing and
iteration methods will use the default intelligent indexing system until
the mode is changed again. In mixed mode an index is assumed to be a row
reference while anything else is assumed to be column access by <a
href="Table.html#M000050">headers</a>.
</p>
<p>
This method returns the table and is safe to chain.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000047-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000047-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 452</span>
452:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">by_col_or_row!</span>
453:       <span class="ruby-ivar">@mode</span> = <span class="ruby-identifier">:col_or_row</span>
454:       
455:       <span class="ruby-keyword kw">self</span>
456:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000048" class="method-detail">
        <a name="M000048"></a>

        <div class="method-heading">
          <a href="#M000048" class="method-signature">
          <span class="method-name">by_row</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns a duplicate table object, in row mode. This is handy for chaining
in a single call without changing the table mode, but be aware that this
method can consume a fair amount of memory for bigger data sets.
</p>
<p>
This method returns the duplicate table for chaining. Don&#8216;t chain
destructive methods (like []=()) this way though, since you are working
with a duplicate.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000048-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000048-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 467</span>
467:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">by_row</span>
468:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@table</span>.<span class="ruby-identifier">dup</span>).<span class="ruby-identifier">by_row!</span>
469:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000049" class="method-detail">
        <a name="M000049"></a>

        <div class="method-heading">
          <a href="#M000049" class="method-signature">
          <span class="method-name">by_row!</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Switches the mode of this table to row mode. All calls to indexing and
iteration methods will work with rows until the mode is changed again.
</p>
<p>
This method returns the table and is safe to chain.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000049-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000049-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 477</span>
477:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">by_row!</span>
478:       <span class="ruby-ivar">@mode</span> = <span class="ruby-identifier">:row</span>
479:       
480:       <span class="ruby-keyword kw">self</span>
481:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000056" class="method-detail">
        <a name="M000056"></a>

        <div class="method-heading">
          <a href="#M000056" class="method-signature">
          <span class="method-name">delete</span><span class="method-args">(index_or_header)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Removes and returns the indicated column or row. In the default mixed mode
indices refer to rows and everything else is assumed to be a column header.
Use <a href="Table.html#M000045">by_col!</a>() or <a
href="Table.html#M000049">by_row!</a>() to force the lookup.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000056-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000056-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 615</span>
615:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete</span>(<span class="ruby-identifier">index_or_header</span>)
616:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:row</span> <span class="ruby-keyword kw">or</span>  <span class="ruby-comment cmt"># by index</span>
617:          (<span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:col_or_row</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">index_or_header</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Integer</span>)
618:         <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">delete_at</span>(<span class="ruby-identifier">index_or_header</span>)
619:       <span class="ruby-keyword kw">else</span>                 <span class="ruby-comment cmt"># by header</span>
620:         <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">index_or_header</span>).<span class="ruby-identifier">last</span> }
621:       <span class="ruby-keyword kw">end</span>
622:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000057" class="method-detail">
        <a name="M000057"></a>

        <div class="method-heading">
          <a href="#M000057" class="method-signature">
          <span class="method-name">delete_if</span><span class="method-args">(&amp;block)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Removes any column or row for which the block returns <tt>true</tt>. In the
default mixed mode or row mode, iteration is the standard row major walking
of rows. In column mode, interation will <tt>yield</tt> two element tuples
containing the column name and an <a href="../Array.html">Array</a> of
values for that column.
</p>
<p>
This method returns the table for chaining.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000057-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000057-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 632</span>
632:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_if</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
633:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:row</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:col_or_row</span>  <span class="ruby-comment cmt"># by index</span>
634:         <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">delete_if</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
635:       <span class="ruby-keyword kw">else</span>                                      <span class="ruby-comment cmt"># by header</span>
636:         <span class="ruby-identifier">to_delete</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>
637:         <span class="ruby-identifier">headers</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">header</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
638:           <span class="ruby-identifier">to_delete</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">header</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>[[<span class="ruby-identifier">header</span>, <span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">header</span>]]]
639:         <span class="ruby-keyword kw">end</span>
640:         <span class="ruby-identifier">to_delete</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">header</span><span class="ruby-operator">|</span> <span class="ruby-identifier">delete</span>(<span class="ruby-identifier">header</span>) }
641:       <span class="ruby-keyword kw">end</span>
642:       
643:       <span class="ruby-keyword kw">self</span>  <span class="ruby-comment cmt"># for chaining</span>
644:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000058" class="method-detail">
        <a name="M000058"></a>

        <div class="method-heading">
          <a href="#M000058" class="method-signature">
          <span class="method-name">each</span><span class="method-args">(&amp;block)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
In the default mixed mode or row mode, iteration is the standard row major
walking of rows. In column mode, interation will <tt>yield</tt> two element
tuples containing the column name and an <a href="../Array.html">Array</a>
of values for that column.
</p>
<p>
This method returns the table for chaining.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000058-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000058-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 655</span>
655:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
656:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:col</span>
657:         <span class="ruby-identifier">headers</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">header</span><span class="ruby-operator">|</span> <span class="ruby-identifier">block</span>[[<span class="ruby-identifier">header</span>, <span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">header</span>]]] }
658:       <span class="ruby-keyword kw">else</span>
659:         <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
660:       <span class="ruby-keyword kw">end</span>
661:       
662:       <span class="ruby-keyword kw">self</span>  <span class="ruby-comment cmt"># for chaining</span>
663:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000050" class="method-detail">
        <a name="M000050"></a>

        <div class="method-heading">
          <a href="#M000050" class="method-signature">
          <span class="method-name">headers</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns the <a href="Table.html#M000050">headers</a> for the first row of
this table (assumed to match all other rows). An empty <a
href="../Array.html">Array</a> is returned for empty tables.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000050-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000050-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 487</span>
487:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">headers</span>
488:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">empty?</span>
489:         <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>
490:       <span class="ruby-keyword kw">else</span>
491:         <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">headers</span>
492:       <span class="ruby-keyword kw">end</span>
493:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000055" class="method-detail">
        <a name="M000055"></a>

        <div class="method-heading">
          <a href="#M000055" class="method-signature">
          <span class="method-name">push</span><span class="method-args">(*rows)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
A shortcut for appending multiple rows. Equivalent to:
</p>
<pre>
  rows.each { |row| self &lt;&lt; row }
</pre>
<p>
This method returns the table for chaining.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000055-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000055-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 604</span>
604:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">rows</span>)
605:       <span class="ruby-identifier">rows</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">self</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">row</span> }
606:       
607:       <span class="ruby-keyword kw">self</span>  <span class="ruby-comment cmt"># for chaining</span>
608:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000060" class="method-detail">
        <a name="M000060"></a>

        <div class="method-heading">
          <a href="#M000060" class="method-signature">
          <span class="method-name">to_a</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns the table as an <a href="../Array.html">Array</a> of Arrays.
Headers will be the first row, then all of the field rows will follow.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000060-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000060-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 674</span>
674:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_a</span>
675:       <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">inject</span>([<span class="ruby-identifier">headers</span>]) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">array</span>, <span class="ruby-identifier">row</span><span class="ruby-operator">|</span>
676:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">header_row?</span>
677:           <span class="ruby-identifier">array</span>
678:         <span class="ruby-keyword kw">else</span>
679:           <span class="ruby-identifier">array</span> <span class="ruby-operator">+</span> [<span class="ruby-identifier">row</span>.<span class="ruby-identifier">fields</span>]
680:         <span class="ruby-keyword kw">end</span>
681:       <span class="ruby-keyword kw">end</span>
682:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000061" class="method-detail">
        <a name="M000061"></a>

        <div class="method-heading">
          <a href="#M000061" class="method-signature">
          <span class="method-name">to_csv</span><span class="method-args">(options = Hash.new)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns the table as a complete CSV <a href="../String.html">String</a>.
Headers will be listed first, then all of the field rows.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000061-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000061-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 688</span>
688:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_csv</span>(<span class="ruby-identifier">options</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>)
689:       <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">inject</span>([<span class="ruby-identifier">headers</span>.<span class="ruby-identifier">to_csv</span>(<span class="ruby-identifier">options</span>)]) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">rows</span>, <span class="ruby-identifier">row</span><span class="ruby-operator">|</span>
690:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">header_row?</span>
691:           <span class="ruby-identifier">rows</span>
692:         <span class="ruby-keyword kw">else</span>
693:           <span class="ruby-identifier">rows</span> <span class="ruby-operator">+</span> [<span class="ruby-identifier">row</span>.<span class="ruby-identifier">fields</span>.<span class="ruby-identifier">to_csv</span>(<span class="ruby-identifier">options</span>)]
694:         <span class="ruby-keyword kw">end</span>
695:       <span class="ruby-keyword kw">end</span>.<span class="ruby-identifier">join</span>
696:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000062" class="method-detail">
        <a name="M000062"></a>

        <div class="method-heading">
          <span class="method-name">to_s</span><span class="method-args">(options = Hash.new)</span>
        </div>
      
        <div class="method-description">
          <p>
Alias for <a href="Table.html#M000061">to_csv</a>
</p>
        </div>
      </div>

      <div id="method-M000053" class="method-detail">
        <a name="M000053"></a>

        <div class="method-heading">
          <a href="#M000053" class="method-signature">
          <span class="method-name">values_at</span><span class="method-args">(*indices_or_headers)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
The mixed mode default is to treat a list of indices as row access,
returning the rows indicated. Anything else is considered columnar access.
For columnar access, the return set has an <a
href="../Array.html">Array</a> for <a href="Table.html#M000058">each</a>
row with the values indicated by the <a
href="Table.html#M000050">headers</a> in <a
href="Table.html#M000058">each</a> <a href="../Array.html">Array</a>. You
can force column or row mode using <a
href="Table.html#M000045">by_col!</a>() or <a
href="Table.html#M000049">by_row!</a>().
</p>
<p>
You cannot mix column and row access.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000053-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000053-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 566</span>
566:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">values_at</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">indices_or_headers</span>)
567:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:row</span> <span class="ruby-keyword kw">or</span>  <span class="ruby-comment cmt"># by indices</span>
568:          ( <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:col_or_row</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">indices_or_headers</span>.<span class="ruby-identifier">all?</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
569:                                       <span class="ruby-identifier">index</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Integer</span>)         <span class="ruby-keyword kw">or</span>
570:                                       ( <span class="ruby-identifier">index</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Range</span>)         <span class="ruby-keyword kw">and</span>
571:                                         <span class="ruby-identifier">index</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Integer</span>) <span class="ruby-keyword kw">and</span>
572:                                         <span class="ruby-identifier">index</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Integer</span>) )
573:                                     <span class="ruby-keyword kw">end</span> )
574:         <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">indices_or_headers</span>)
575:       <span class="ruby-keyword kw">else</span>                 <span class="ruby-comment cmt"># by headers</span>
576:         <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">indices_or_headers</span>) }
577:       <span class="ruby-keyword kw">end</span>
578:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>